<p>ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨ï¼Œéšæœºé€‰æ‹©é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›ç›¸åº”çš„èŠ‚ç‚¹å€¼ã€‚æ¯ä¸ªèŠ‚ç‚¹<strong> è¢«é€‰ä¸­çš„æ¦‚ç‡ä¸€æ ·</strong> ã€‚</p>

<p>å®ç° <code>Solution</code> ç±»ï¼š</p>

<ul>
	<li><code>Solution(ListNode head)</code> ä½¿ç”¨æ•´æ•°æ•°ç»„åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
	<li><code>int getRandom()</code> ä»é“¾è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹å¹¶è¿”å›è¯¥èŠ‚ç‚¹çš„å€¼ã€‚é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹è¢«é€‰ä¸­çš„æ¦‚ç‡ç›¸ç­‰ã€‚</li>
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2021/03/16/getrand-linked-list.jpg" style="width: 302px; height: 62px;" />
<pre>
<strong>è¾“å…¥</strong>
["Solution", "getRandom", "getRandom", "getRandom", "getRandom", "getRandom"]
[[[1, 2, 3]], [], [], [], [], []]
<strong>è¾“å‡º</strong>
[null, 1, 3, 2, 2, 3]

<strong>è§£é‡Š</strong>
Solution solution = new Solution([1, 2, 3]);
solution.getRandom(); // è¿”å› 1
solution.getRandom(); // è¿”å› 3
solution.getRandom(); // è¿”å› 2
solution.getRandom(); // è¿”å› 2
solution.getRandom(); // è¿”å› 3
// getRandom() æ–¹æ³•åº”éšæœºè¿”å› 1ã€2ã€3ä¸­çš„ä¸€ä¸ªï¼Œæ¯ä¸ªå…ƒç´ è¢«è¿”å›çš„æ¦‚ç‡ç›¸ç­‰ã€‚</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li>é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ <code>[1, 10<sup>4</sup>]</code> å†…</li>
	<li><code>-10<sup>4</sup> &lt;= Node.val &lt;= 10<sup>4</sup></code></li>
	<li>è‡³å¤šè°ƒç”¨&nbsp;<code>getRandom</code> æ–¹æ³• <code>10<sup>4</sup></code> æ¬¡</li>
</ul>

<p>&nbsp;</p>

<p><strong>è¿›é˜¶ï¼š</strong></p>

<ul>
	<li>å¦‚æœé“¾è¡¨éå¸¸å¤§ä¸”é•¿åº¦æœªçŸ¥ï¼Œè¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</li>
	<li>ä½ èƒ½å¦åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹è§£å†³æ­¤é—®é¢˜ï¼Ÿ</li>
</ul>
<details><summary><strong>Related Topics</strong></summary>æ°´å¡˜æŠ½æ · | é“¾è¡¨ | æ•°å­¦ | éšæœºåŒ–</details><br>

<div>ğŸ‘ 308, ğŸ‘ 0</div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾ V1.8](https://aep.h5.xeknow.com/s/1XJHEO) æŒç»­æ›´æ–°ä¸­ã€‚**



<p><strong><a href="https://labuladong.github.io/article?qno=382" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

è¿™é¢˜å±äºæ•°å­¦é¢˜ï¼Œå¦‚ä½•åœ¨é•¿åº¦æœªçŸ¥çš„åºåˆ—ï¼ˆæ•°æ®æµï¼‰ä¸­**éšæœº**é€‰æ‹©ä¸€ä¸ªå…ƒç´ å‡ºæ¥ï¼Ÿ

ç»“è®ºï¼šå½“ä½ é‡åˆ°ç¬¬ `i` ä¸ªå…ƒç´ æ—¶ï¼Œåº”è¯¥æœ‰ `1/i` çš„æ¦‚ç‡é€‰æ‹©è¯¥å…ƒç´ ï¼Œ`1 - 1/i` çš„æ¦‚ç‡ä¿æŒåŸæœ‰çš„é€‰æ‹©ã€‚

è¯æ˜è¯·çœ‹è¯¦ç»†é¢˜è§£ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[å¦‚ä½•åœ¨æ— é™åºåˆ—ä¸­éšæœºæŠ½å–å…ƒç´ ](https://labuladong.github.io/article/fname.html?fname=æ°´å¡˜æŠ½æ ·)**

**æ ‡ç­¾ï¼š[æ•°å­¦](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122023604245659649)ï¼Œæ°´å¡˜æŠ½æ ·ç®—æ³•ï¼Œ[éšæœºç®—æ³•](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122023604245659649)**

## è§£æ³•ä»£ç 

```java
class Solution {

    ListNode head;
    Random r = new Random();

    public Solution(ListNode head) {
        this.head = head;
    }
    
    /* è¿”å›é“¾è¡¨ä¸­ä¸€ä¸ªéšæœºèŠ‚ç‚¹çš„å€¼ */
    int getRandom() {
        int i = 0, res = 0;
        ListNode p = head;
        // while å¾ªç¯éå†é“¾è¡¨
        while (p != null) {
            i++;
            // ç”Ÿæˆä¸€ä¸ª [0, i) ä¹‹é—´çš„æ•´æ•°
            // è¿™ä¸ªæ•´æ•°ç­‰äº 0 çš„æ¦‚ç‡å°±æ˜¯ 1/i
            if (0 == r.nextInt(i)) {
                res = p.val;
            }
            p = p.next;
        }
        return res;
    }
}
```

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [398. éšæœºæ•°ç´¢å¼• ğŸŸ ](/problems/random-pick-index)

</details>
</div>



