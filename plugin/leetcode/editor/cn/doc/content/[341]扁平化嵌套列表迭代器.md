<p>ç»™ä½ ä¸€ä¸ªåµŒå¥—çš„æ•´æ•°åˆ—è¡¨ <code>nestedList</code> ã€‚æ¯ä¸ªå…ƒç´ è¦ä¹ˆæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼›è¯¥åˆ—è¡¨çš„å…ƒç´ ä¹Ÿå¯èƒ½æ˜¯æ•´æ•°æˆ–è€…æ˜¯å…¶ä»–åˆ—è¡¨ã€‚è¯·ä½ å®ç°ä¸€ä¸ªè¿­ä»£å™¨å°†å…¶æ‰å¹³åŒ–ï¼Œä½¿ä¹‹èƒ½å¤Ÿéå†è¿™ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰æ•´æ•°ã€‚</p>

<p>å®ç°æ‰å¹³è¿­ä»£å™¨ç±» <code>NestedIterator</code> ï¼š</p>

<ul>
	<li><code>NestedIterator(List&lt;NestedInteger&gt; nestedList)</code> ç”¨åµŒå¥—åˆ—è¡¨ <code>nestedList</code> åˆå§‹åŒ–è¿­ä»£å™¨ã€‚</li>
	<li><code>int next()</code> è¿”å›åµŒå¥—åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªæ•´æ•°ã€‚</li>
	<li><code>boolean hasNext()</code> å¦‚æœä»ç„¶å­˜åœ¨å¾…è¿­ä»£çš„æ•´æ•°ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</li>
</ul>

<p>ä½ çš„ä»£ç å°†ä¼šç”¨ä¸‹è¿°ä¼ªä»£ç æ£€æµ‹ï¼š</p>

<pre>
initialize iterator with nestedList
res = []
while iterator.hasNext()
    append iterator.next() to the end of res
return res</pre>

<p>å¦‚æœ <code>res</code> ä¸é¢„æœŸçš„æ‰å¹³åŒ–åˆ—è¡¨åŒ¹é…ï¼Œé‚£ä¹ˆä½ çš„ä»£ç å°†ä¼šè¢«åˆ¤ä¸ºæ­£ç¡®ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nestedList = [[1,1],2,[1,1]]
<strong>è¾“å‡ºï¼š</strong>[1,1,2,1,1]
<strong>è§£é‡Šï¼š</strong>é€šè¿‡é‡å¤è°ƒç”¨&nbsp;<em>next </em>ç›´åˆ°&nbsp;<em>hasNex</em>t è¿”å› falseï¼Œ<em>next&nbsp;</em>è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: <code>[1,1,2,1,1]</code>ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nestedList = [1,[4,[6]]]
<strong>è¾“å‡ºï¼š</strong>[1,4,6]
<strong>è§£é‡Šï¼š</strong>é€šè¿‡é‡å¤è°ƒç”¨&nbsp;<em>next&nbsp;</em>ç›´åˆ°&nbsp;<em>hasNex</em>t è¿”å› falseï¼Œ<em>next&nbsp;</em>è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: <code>[1,4,6]</code>ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= nestedList.length &lt;= 500</code></li>
	<li>åµŒå¥—åˆ—è¡¨ä¸­çš„æ•´æ•°å€¼åœ¨èŒƒå›´ <code>[-10<sup>6</sup>, 10<sup>6</sup>]</code> å†…</li>
</ul>
<details><summary><strong>Related Topics</strong></summary>æ ˆ | æ ‘ | æ·±åº¦ä¼˜å…ˆæœç´¢ | è®¾è®¡ | é˜Ÿåˆ— | è¿­ä»£å™¨</details><br>

<div>ğŸ‘ 463, ğŸ‘ 0</div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾ V1.7](https://aep.h5.xeknow.com/s/1XJHEO) æŒç»­æ›´æ–°ä¸­ï¼›B ç«™å¯æŸ¥çœ‹ [æ ¸å¿ƒç®—æ³•æ¡†æ¶ç³»åˆ—è§†é¢‘](https://space.bilibili.com/14089380/channel/series)ã€‚**



<p><strong><a href="https://labuladong.github.io/article?qno=341" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

PSï¼šè¿™é“é¢˜åœ¨[ã€Šç®—æ³•å°æŠ„ã€‹](https://mp.weixin.qq.com/s/tUSovvogbR9StkPWb75fUw) çš„ç¬¬ 345 é¡µã€‚

é¢˜ç›®ä¸“é—¨è¯´ä¸è¦å°è¯•å®ç°æˆ–è€…çŒœæµ‹ `NestedInteger` çš„å®ç°ï¼Œé‚£æˆ‘ä»¬å°±ç«‹å³å®ç°ä¸€ä¸‹ `NestedInteger` çš„ç»“æ„ï¼š

```java
public class NestedInteger {
    private Integer val;
    private List<NestedInteger> list;

    public NestedInteger(Integer val) {
        this.val = val;
        this.list = null;
    }
    public NestedInteger(List<NestedInteger> list) {
        this.list = list;
        this.val = null;
    }

    // å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› false
    public boolean isInteger() {
        return val != null;
    }

    // å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™è¿”å›è¿™ä¸ªæ•´æ•°ï¼Œå¦åˆ™è¿”å› null
    public Integer getInteger() {
        return this.val;
    }

    // å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ™è¿”å›è¿™ä¸ªåˆ—è¡¨ï¼Œå¦åˆ™è¿”å› null
    public List<NestedInteger> getList() {
        return this.list;
    }
}
```

æ ¹æ® [å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ¡†æ¶æ€ç»´](https://labuladong.github.io/article/fname.html?fname=å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„é«˜æ•ˆæ–¹æ³•)ï¼Œå‘ç°è¿™ç©æ„å„¿ç«Ÿç„¶å°±æ˜¯ä¸ªå¤šå‰æ ‘çš„ç»“æ„ï¼š

```java
class NestedInteger {
    Integer val;
    List<NestedInteger> list;
}

// åŸºæœ¬çš„ N å‰æ ‘èŠ‚ç‚¹
class TreeNode {
    int val;
    TreeNode[] children;
}
```

![](https://labuladong.github.io/algo/images/nestedList/1.jpeg)

**æ‰€ä»¥ï¼ŒæŠŠä¸€ä¸ª `NestedInteger` æ‰å¹³åŒ–å°±ç­‰ä»·äºéå†ä¸€æ£µ N å‰æ ‘çš„æ‰€æœ‰ã€Œå¶å­èŠ‚ç‚¹ã€**ã€‚

ç”¨è¿­ä»£å™¨çš„æ–¹å¼æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯**è°ƒç”¨ `hasNext` æ—¶ï¼Œå¦‚æœ `nestedList` çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ç±»å‹ï¼Œåˆ™ä¸æ–­å±•å¼€è¿™ä¸ªå…ƒç´ ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´æ•°ç±»å‹**ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[é¢˜ç›®ä¸è®©æˆ‘å¹²ä»€ä¹ˆï¼Œæˆ‘åè¦å¹²ä»€ä¹ˆ](https://labuladong.github.io/article/fname.html?fname=nestInteger)**

**æ ‡ç­¾ï¼š[äºŒå‰æ ‘](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2121994699837177859)ï¼Œ[æ•°æ®ç»“æ„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=1318892385270808576)ï¼Œ[è®¾è®¡](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2121998148662362112)**

## è§£æ³•ä»£ç 

```java
public class NestedIterator implements Iterator<Integer> {
    private LinkedList<NestedInteger> list;

    public NestedIterator(List<NestedInteger> nestedList) {
        // ä¸ç›´æ¥ç”¨ nestedList çš„å¼•ç”¨ï¼Œæ˜¯å› ä¸ºä¸èƒ½ç¡®å®šå®ƒçš„åº•å±‚å®ç°
        // å¿…é¡»ä¿è¯æ˜¯ LinkedListï¼Œå¦åˆ™ä¸‹é¢çš„ addFirst ä¼šå¾ˆä½æ•ˆ
        list = new LinkedList<>(nestedList);
    }

    public Integer next() {
        // hasNext æ–¹æ³•ä¿è¯äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯æ•´æ•°ç±»å‹
        return list.remove(0).getInteger();
    }

    public boolean hasNext() {
        // å¾ªç¯æ‹†åˆ†åˆ—è¡¨å…ƒç´ ï¼Œç›´åˆ°åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´æ•°ç±»å‹
        while (!list.isEmpty() && !list.get(0).isInteger()) {
            // å½“åˆ—è¡¨å¼€å¤´ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ç±»å‹æ—¶ï¼Œè¿›å…¥å¾ªç¯
            List<NestedInteger> first = list.remove(0).getList();
            // å°†ç¬¬ä¸€ä¸ªåˆ—è¡¨æ‰“å¹³å¹¶æŒ‰é¡ºåºæ·»åŠ åˆ°å¼€å¤´
            for (int i = first.size() - 1; i >= 0; i--) {
                list.addFirst(first.get(i));
            }
        }
        return !list.isEmpty();
    }
}
```

</details>
</div>



